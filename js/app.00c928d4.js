(function(){"use strict";var t={7105:function(t,e,s){var r=s(2856),a=s(2332),i=s.n(a);let n={baseURL:"https://665861f15c3617052648329b.mockapi.io/api/v1/"};const o=i().create(n);o.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),o.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t){t.api=o,window.api=o,Object.defineProperties(t.prototype,{api:{get(){return o}},$api:{get(){return o}}})},r.Ay.use(Plugin);const u=o;var l=u,c=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},d=[],f=s(1656),p={},g=(0,f.A)(p,c,d,!1,null,null,null),m=g.exports,v=s(1910),h={namespaced:!0,state:{users:[]},getters:{getUsers(t){return t.users},getSortedUsersByName(t){let e=[...t.users],s=e.sort(((t,e)=>t.firstName.toLowerCase()<e.firstName.toLowerCase()?-1:t.firstName.toLowerCase()>e.firstName.toLowerCase()?1:0));return s},getSortedUsersByAge(t){let e=[...t.users],s=e.filter((t=>t.age>=18)).sort(((t,e)=>t.age<e.age?-1:t.age>e.age?1:0));return s}},mutations:{setUsers(t,e){t.users=e},updateUser(t,e){let s=t.users.indexOf(t.users.find((t=>t.id===e.id)));this._vm.$set(t.users,s,{...e})}},actions:{async fetchUsers(t){await l.get("/users/").then((e=>{t.commit("setUsers",e.data)}))},async editUser(t,{id:e,data:s}){await l.put("/users/"+e,{...s}).then((e=>{t.commit("updateUser",e.data)}))}}};r.Ay.use(v.Ay);var _=new v.Ay.Store({modules:{users:h}}),y=s(1594),U=function(){var t=this,e=t._self._c;return e("main",{staticClass:"home"},[e("section",[e("div",{staticClass:"container"},[e("div",{staticClass:"top-strip"},[e("select",{staticClass:"sort-select",on:{change:t.onSort}},[e("option",{attrs:{value:"sort_by_default"}},[t._v("По умолчанию")]),e("option",{attrs:{value:"sort_by_name"}},[t._v("Сортировать по имени")]),e("option",{attrs:{value:"sort_by_age"}},[t._v("Сортировать по возрасту")])])]),e("div",{staticClass:"users-list"},[t.loading?e("div",{staticClass:"loader-container"},[e("div",{staticClass:"loader"})]):t._l(t.sortedUsers,(function(t){return e("UserCard",{key:t.id,attrs:{"first-name":t.firstName,"last-name":t.lastName,age:t.age,avatar:t.avatar,email:t.email,id:t.id}})}))],2)])])])},b=[],C=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-card"},[e("div",{staticClass:"user-card__avatar"},[e("img",{attrs:{width:"84",height:"84",src:t.avatar,alt:t.fullName}}),e("input",{staticClass:"user-card__avatar-upload",attrs:{type:"file",accept:"image/png, image/gif, image/jpeg"},on:{change:t.onAvatarUpload}})]),e("div",{staticClass:"user-card__info"},[e("span",{staticClass:"user-card__name"},[t._v(t._s(t.fullName))]),e("ul",{staticClass:"user-card__properties list-reset"},[e("li",{staticClass:"user-card__property"},[e("b",[t._v("Email:")]),t._v(" "+t._s(t.email))]),e("li",{staticClass:"user-card__property"},[e("b",[t._v("Возраст:")]),t._v(" "+t._s(t.age))])])]),t.loading?e("div",{staticClass:"loader-container"},[e("div",{staticClass:"loader"})]):t._e()])},w=[],A={name:"UserCard",data(){return{loading:!1}},props:{firstName:String,lastName:String,age:Number,email:String,avatar:String,id:String},computed:{fullName(){return this.firstName+" "+this.lastName}},methods:{...(0,v.i0)("users",["editUser"]),onAvatarUpload(t){let e=t.target.files[0],s=new FileReader;s.readAsDataURL(e),s.onload=()=>{this.loading=!0,this.editUser({id:this.id,data:{avatar:s.result}}).then((()=>{this.loading=!1})).catch((t=>{console.log(t),this.loading=!1}))}}}},N=A,S=(0,f.A)(N,C,w,!1,null,null,null),O=S.exports,j={name:"HomeView",components:{UserCard:O},data(){return{loading:!1,sort:"sort_by_default",sortSettigs:{sort_by_default:"users",sort_by_name:"sortedUsersByName",sort_by_age:"sortedUsersByAge"}}},methods:{...(0,v.i0)("users",["fetchUsers"]),onSort(t){this.loading=!0,setTimeout((()=>{this.sort=t.target.value,this.loading=!1}),1e3)}},computed:{...(0,v.L8)("users",{users:"getUsers",sortedUsersByName:"getSortedUsersByName",sortedUsersByAge:"getSortedUsersByAge"}),sortedUsers(){return this[this.sortSettigs[this.sort]]}},mounted(){this.loading=!0,this.fetchUsers().then((()=>{this.loading=!1})).catch((t=>{this.loading=!1,console.log(t)}))}},x=j,B=(0,f.A)(x,U,b,!1,null,null,null),k=B.exports;r.Ay.use(y.Ay);const L=[{path:"/",name:"home",component:k}],P=new y.Ay({mode:"history",base:"/scid-test/",routes:L});var T=P;r.Ay.config.productionTip=!1,new r.Ay({store:_,router:T,render:t=>t(m)}).$mount("#app")}},e={};function s(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,r,a,i){if(!r){var n=1/0;for(c=0;c<t.length;c++){r=t[c][0],a=t[c][1],i=t[c][2];for(var o=!0,u=0;u<r.length;u++)(!1&i||n>=i)&&Object.keys(s.O).every((function(t){return s.O[t](r[u])}))?r.splice(u--,1):(o=!1,i<n&&(n=i));if(o){t.splice(c--,1);var l=a();void 0!==l&&(e=l)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[r,a,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,i,n=r[0],o=r[1],u=r[2],l=0;if(n.some((function(e){return 0!==t[e]}))){for(a in o)s.o(o,a)&&(s.m[a]=o[a]);if(u)var c=u(s)}for(e&&e(r);l<n.length;l++)i=n[l],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(c)},r=self["webpackChunkscid_test"]=self["webpackChunkscid_test"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=s.O(void 0,[504],(function(){return s(7105)}));r=s.O(r)})();
//# sourceMappingURL=app.00c928d4.js.map